# Router-Lab 实验报告

2017050022 计71 康朋

### 实验过程

* 阶段一 

  本阶段基本没什么困难，主要是按照 OJ 上面的要求写完代码即可；

  但是本阶段最大的困难就是为接下来的阶段埋下了伏笔，在实现过程中也发现了有明显的错误但是仍然能够通过 OJ；

  此时仍有许多未发现的错误；

* 阶段二

  本阶段是将阶段一的四个函数整合到一起，并根据路由规则进行调用，实现水平分割算法；

  首先是发现了一阶段对 `checksum` 计算中对端序没有注意，更改成大段序以后可以实现；

  本阶段在本机调试的时候很顺利，在实际环境调试的时候发现了问题，找到了一些小错误；

  另外主要是在调试的过程中对调试工具的不熟悉，对于给定脚本没有认真阅读，导致在调试的过程中非常吃力，主要的问题在于运行 `bird` 脚本之后没有删除配置的静态路由导致代码一直 ping 不通，后来多方询问后才解决；

* 阶段三

  本阶段在上一个阶段的基础上加了一个分包，大体上没有什么问题，检查出 `lookup` 函数中最长匹配时错误的应用子网掩码，这个问题在压力测试中被检查出来；

### 实验总结

​	本实验让我受益匪浅，对于协议、网关、掩码、最长匹配算法等有了深层次的理解，从中纠正了我许多错误的理解，另外还让我了对 linux 更加的熟悉。最后感谢帮助我的老师、助教以及同学们的悉心指导！